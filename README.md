# HFTå¾®å¥—åˆ©ç³»ç»Ÿ - C5Nå®ä¾‹ä¼˜åŒ–ç‰ˆ

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªé«˜é¢‘äº¤æ˜“(HFT)å¾®å¥—åˆ©ç³»ç»Ÿï¼Œä¸“é—¨é’ˆå¯¹AWS C5Nå®ä¾‹(2vCPU, 5.3GB RAM)è¿›è¡Œäº†ä¼˜åŒ–ã€‚ç³»ç»Ÿæ”¯æŒå¿«é€Ÿè¿­ä»£å¼€å‘ã€çƒ­æ›´æ–°éƒ¨ç½²ï¼Œå¹¶æä¾›å®Œæ•´çš„ç›‘æ§å’Œç®¡ç†å·¥å…·ã€‚

## ä¸»è¦ç‰¹æ€§

- ğŸš€ **é«˜æ€§èƒ½**: åŸºäºRustå¼€å‘ï¼Œæ”¯æŒSIMDä¼˜åŒ–å’Œå†…å­˜æ± ç®¡ç†
- ğŸ“Š **å®æ—¶ç›‘æ§**: é›†æˆPrometheus + Grafanaç›‘æ§ç³»ç»Ÿ
- ğŸ”„ **çƒ­æ›´æ–°**: æ”¯æŒé…ç½®çƒ­æ›´æ–°å’Œæ»šåŠ¨éƒ¨ç½²
- ğŸ›¡ï¸ **é£é™©æ§åˆ¶**: å†…ç½®å¤šå±‚é£é™©æ§åˆ¶æœºåˆ¶
- ğŸ“ˆ **å¤šç­–ç•¥**: æ”¯æŒè®¢å•ç°¿ä¸å¹³è¡¡ã€ä»·å·®å¥—åˆ©ç­‰å¤šç§ç­–ç•¥
- ğŸ³ **å®¹å™¨åŒ–**: å®Œæ•´çš„Dockeréƒ¨ç½²æ–¹æ¡ˆ

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Docker & Docker Compose
- 2vCPU + 5.3GB RAM (æ¨èC5Nå®ä¾‹)
- Binance APIå¯†é’¥

### ä¸€é”®éƒ¨ç½²

1. **å…‹éš†ä»“åº“**
```bash
git clone https://github.com/NexaQuant/HFT-MicroArbitrage-C5N.git
cd HFT-MicroArbitrage-C5N
```

2. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp configs/.env.c5n.testing .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIå¯†é’¥
vim .env
```

3. **å¯åŠ¨ç³»ç»Ÿ**
```bash
# Windows
.\deploy_c5n.bat testing

# Linux/Mac
./start.sh
```

### ç›‘æ§ç³»ç»Ÿ

éƒ¨ç½²å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ç›‘æ§ç•Œé¢ï¼š

- **Grafanaç›‘æ§é¢æ¿**: http://localhost:3000 (admin/admin)
- **PrometheusæŒ‡æ ‡**: http://localhost:9090
- **åº”ç”¨å¥åº·æ£€æŸ¥**: http://localhost:8080/health

## éƒ¨ç½²é€‰é¡¹

### 1. æµ‹è¯•ç¯å¢ƒéƒ¨ç½²
```bash
.\deploy_c5n.bat testing
```

### 2. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
.\deploy_c5n.bat production
```

### 3. å¼€å‘ç¯å¢ƒéƒ¨ç½²
```bash
.\deploy_c5n.bat dev
```

### 4. çƒ­æ›´æ–°éƒ¨ç½²
```bash
.\deploy_c5n.bat hotfix
```

## é…ç½®æ–‡ä»¶è¯´æ˜

- `configs/.env.c5n.testing` - C5Næµ‹è¯•ç¯å¢ƒé…ç½®
- `docker-compose.c5n.yml` - C5Nä¼˜åŒ–çš„Dockeré…ç½®
- `config.simple.toml` - ç®€åŒ–çš„åº”ç”¨é…ç½®
- `docs/deploy_iterative.md` - è¯¦ç»†çš„è¿­ä»£éƒ¨ç½²æŒ‡å—

## ç›‘æ§å’Œç®¡ç†

### å®æ—¶ç›‘æ§
```bash
.\monitor_c5n.bat
```

### æŸ¥çœ‹æ—¥å¿—
```bash
docker-compose logs -f app
```

### æ•…éšœæ’é™¤
```bash
.\troubleshoot.bat
```

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ main.rs            # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ strategies/        # äº¤æ˜“ç­–ç•¥
â”‚   â”œâ”€â”€ order_book/        # è®¢å•ç°¿ç®¡ç†
â”‚   â””â”€â”€ binance_websocket/ # Binance WebSocketå®¢æˆ·ç«¯
â”œâ”€â”€ configs/               # é…ç½®æ–‡ä»¶
â”œâ”€â”€ monitoring/            # ç›‘æ§é…ç½®
â”œâ”€â”€ deploy_c5n.bat        # C5Néƒ¨ç½²è„šæœ¬
â”œâ”€â”€ monitor_c5n.bat       # C5Nç›‘æ§è„šæœ¬
â””â”€â”€ docker-compose.c5n.yml # C5N Dockeré…ç½®
```

## äº¤æ˜“ç­–ç•¥

1. **è®¢å•ç°¿ä¸å¹³è¡¡ç­–ç•¥** - åŸºäºä¹°å–ç›˜ä¸å¹³è¡¡è¿›è¡Œäº¤æ˜“
2. **ä»·å·®å¥—åˆ©ç­–ç•¥** - åˆ©ç”¨ä»·å·®è¿›è¡Œå¥—åˆ©
3. **æˆäº¤é‡å¼‚å¸¸ç­–ç•¥** - åŸºäºæˆäº¤é‡å¼‚å¸¸ä¿¡å·
4. **è·Ÿéšäº¤æ˜“ç­–ç•¥** - è·Ÿéšå¤§å•äº¤æ˜“

## é£é™©æ§åˆ¶

- æœ€å¤§æŒä»“é™åˆ¶
- å•ç¬”äº¤æ˜“é‡‘é¢é™åˆ¶
- æ—¥æŸå¤±é™åˆ¶
- å®æ—¶é£é™©ç›‘æ§

## æ€§èƒ½ä¼˜åŒ–

### C5Nå®ä¾‹ä¼˜åŒ–
- å†…å­˜ä½¿ç”¨ä¼˜åŒ– (< 4GB)
- CPUä½¿ç”¨ä¼˜åŒ– (< 80%)
- ç½‘ç»œä¼˜åŒ– (åˆ©ç”¨C5Né«˜ç½‘ç»œæ€§èƒ½)
- å­˜å‚¨ä¼˜åŒ– (SSDç¼“å­˜ç­–ç•¥)

### ä»£ç ä¼˜åŒ–
- SIMDæŒ‡ä»¤ä¼˜åŒ–
- å†…å­˜æ± ç®¡ç†
- å¼‚æ­¥I/Oä¼˜åŒ–
- é›¶æ‹·è´æ•°æ®å¤„ç†

## å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘
```bash
# å®‰è£…ä¾èµ–
cargo build

# è¿è¡Œæµ‹è¯•
cargo test

# æ€§èƒ½æµ‹è¯•
cargo bench
```

### æ·»åŠ æ–°ç­–ç•¥
1. åœ¨`src/strategies/`ç›®å½•ä¸‹åˆ›å»ºæ–°ç­–ç•¥æ–‡ä»¶
2. å®ç°`Strategy` trait
3. åœ¨`main.rs`ä¸­æ³¨å†Œç­–ç•¥
4. æ›´æ–°é…ç½®æ–‡ä»¶

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å†…å­˜ä¸è¶³**
   - æ£€æŸ¥Dockerå†…å­˜é™åˆ¶
   - è°ƒæ•´é…ç½®ä¸­çš„ç¼“å­˜å¤§å°

2. **APIè¿æ¥å¤±è´¥**
   - æ£€æŸ¥APIå¯†é’¥é…ç½®
   - éªŒè¯ç½‘ç»œè¿æ¥

3. **æ€§èƒ½é—®é¢˜**
   - æŸ¥çœ‹Grafanaç›‘æ§é¢æ¿
   - æ£€æŸ¥CPUå’Œå†…å­˜ä½¿ç”¨ç‡

### æ—¥å¿—åˆ†æ
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose logs app

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker-compose logs db

# æŸ¥çœ‹Redisæ—¥å¿—
docker-compose logs redis
```

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## è”ç³»æ–¹å¼

- é¡¹ç›®é“¾æ¥: [https://github.com/NexaQuant/HFT-MicroArbitrage-C5N](https://github.com/NexaQuant/HFT-MicroArbitrage-C5N)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/NexaQuant/HFT-MicroArbitrage-C5N/issues)

## æ›´æ–°æ—¥å¿—

### v0.1.1 (2024-12-06)
- ä¿®æ­£é…ç½®æ–‡ä»¶è·¯å¾„é”™è¯¯
- æ›´æ–°å¿«é€Ÿå¼€å§‹æŒ‡å—
- å®Œå–„é¡¹ç›®ç»“æ„è¯´æ˜

### v0.1.0 (2024-12-06)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- C5Nå®ä¾‹ä¼˜åŒ–
- åŸºç¡€äº¤æ˜“ç­–ç•¥å®ç°
- ç›‘æ§ç³»ç»Ÿé›†æˆ
- ä¸€é”®éƒ¨ç½²è„šæœ¬